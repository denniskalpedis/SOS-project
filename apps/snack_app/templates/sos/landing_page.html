{% extends 'base_layout.html' %}

    {% block content%}


        <div>
                {% if messages %}
                    <ul class="flashes">
                    {% for message in messages %}
                        <li class="error">{{ message }}</li>
                    {% endfor %}
                    </ul>
                {% endif %}
                <!-- Side navigation -->
            <div class="sidenav">
                    <a href="#" >Home</a><br>
                    <a href="#">All Groups</a>
                    <a href="#">Most Requested</a>
             <div class="space">
                <br><br><a href="/logout">Log out</a>
            </div>
            </div>
            <div>
                <h2>JOIN GROUP!</h2>
                <form action="/sos/join/" method="POST" class="ajax_form" id="join_group">
                    {% csrf_token %}
                    Group Name: <input type="text" name="name" id="" placeholder="Group Name">
                    Password: <input type="text" name="password">
                    <input type="submit" value="JOIN" class="btn btn-primary">
                </form>
                <div id="placeholder">
                    Placeholder for other users in your group...
                </div>
            </div>
            <!-- <script>
                 $('#join_group').submit(function(e){
                     e.preventDefault()
                     console.log('Sending Ajax request to', $(this).attr('action'))
                     console.log('Submitting the following data', $(this).serialize())
                     $.ajax({
                         url: $(this).attr('action'), /* Where should this go? */
                         method: 'post', /* Which HTTP verb? */
                         data: $(this).serialize(), /* Any data to send along? */
                         success: function(serverResponse) { /* What code should we run when the server responds? */
                         $('#placeholder').html(serverResponse)
                         }
                    })
                });
            </script> -->
            <div id="create">
                <h2>CREATE GROUP!</h2>
                <form action="/sos/create" method="post" class="ajax_form" id="create_group">
                    {% csrf_token %}
                    Name of Group: <input type="text" name="name">
                    Password for Group: <input type="password" name="password">
                    <input type="submit" value="CREATE" class="btn btn-primary">
                </form>
                <div id="placeholder1">
                    Placeholder for your group...
                </div>
            </div>
            <script>
                    $('#create_group').submit(function(e){
                        e.preventDefault()
                        console.log('Sending Ajax request to', $(this).attr('action'))
                        console.log('Submitting the following data', $(this).serialize())
                        $.ajax({
                            url: $(this).attr('action'), /* Where should this go? */
                            method: 'post', /* Which HTTP verb? */
                            data: $(this).serialize(), /* Any data to send along? */
                            success: function(serverResponse) { /* What code should we run when the server responds? */
                            $('#placeholder1').html(serverResponse)
                            }
                       })
                   });
            </script>
        </div>
    {% endblock %}
